<div class='spinnerCon' *ngIf='isVisible_spinner'>
<div class="sk-fading-circle">
  <div class="sk-circle1 sk-circle"></div>
  <div class="sk-circle2 sk-circle"></div>
  <div class="sk-circle3 sk-circle"></div>
  <div class="sk-circle4 sk-circle"></div>
  <div class="sk-circle5 sk-circle"></div>
  <div class="sk-circle6 sk-circle"></div>
  <div class="sk-circle7 sk-circle"></div>
  <div class="sk-circle8 sk-circle"></div>
  <div class="sk-circle9 sk-circle"></div>
  <div class="sk-circle10 sk-circle"></div>
  <div class="sk-circle11 sk-circle"></div>
  <div class="sk-circle12 sk-circle"></div>
</div>
</div>

<div class='dbBGoverlay' id='bgOverlay'>
<div class="searchDB" id='search_db'>
  <div class='container' fxLayout='column' fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
    <div class="divHeader">&nbsp;&nbsp;Land Tax Clearance</div>
    <div>
      <b>&nbsp;&nbsp;Search</b>
    </div>
    <div class="dbMargin">
    <div class='container' fxLayout='column' fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
    <label>Search record in:</label>
    <mat-radio-group class='item item-1' fxFlex='40%' [(ngModel)]='param1'>
      <mat-radio-button *ngFor='let p1 of params1' [value]='p1.value'>{{ p1.viewVal }}</mat-radio-button>
    </mat-radio-group>
    <label>Search record by:</label>
    <mat-radio-group class='item item-2' fxFlex='40%' [(ngModel)]='param2'>
      <mat-radio-button *ngFor='let p2 of params2' [value]='p2.value'>{{ p2.viewVal }}</mat-radio-button>
    </mat-radio-group>
    </div>

    <div class='container' fxLayout fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
      <mat-form-field class='item item-1' fxFlex='100%'>
        <input matInput type='text' placeholder='Enter input here' [(ngModel)]='req' id='inputReq'>
      </mat-form-field>
    </div>

    <div class='container' fxLayout fxLayoutGap='10px'>
      <div fxFlex='40%'></div>
      <div class="h-40" fxFlex='30%' (mousedown)="clicked=true" (mouseup)="clicked=false" (mouseleave)="clicked=false" (click)='search();'>
        <button mat-raised-button class='item item-1' color='primary' [ngClass]="{ 'srchBtnClckd': clicked, 'srchBtnDefault': !clicked }">Search</button>
      </div>
      <div class="h-40" fxFlex='30%' (mousedown)="clseDb=true" (mouseup)="clseDb=false" (mouseleave)="clseDb=false" (click)='srchClse()'>
        <button mat-raised-button type="button" name="button" [ngClass]="{ 'srchBtnClckd': clseDb, 'srchBtnDefault': !clseDb }">Close</button>
      </div>
    </div>
  </div>
  </div>
</div>

</div>

<div class="clrnceDb" id='clrnce_db'>
<div class="divHeader">&nbsp;&nbsp;Land Tax Clearance</div>
<div>
  <div class='h'></div>
  <b>&nbsp;&nbsp;Clearance</b>
</div>
<div class='ovrflw'>
<div class="clrnce">
  <div class='container' fxLayout fxLayoutGap='10px'>
  </div>
  <div class='text-center'>
  <span>&nbsp;The latest payment of the tax of the above-described property is for the&nbsp;</span>
  <mat-form-field>
    <input id='input1' class="text-center" matInput type='text' [(ngModel)]='input1'>
  </mat-form-field>
  <span>&nbsp;total amount of &#x20B1;:&nbsp;</span>
  <mat-form-field>
    <input class="text-center" matInput type='text' [(ngModel)]='amount'>
  </mat-form-field>
   <span>&nbsp;acknowledge under Real Estate Tax Receipt No. CTO.&nbsp;</span>
   <mat-form-field>
     <input class="text-center" matInput type='text' [(ngModel)]='CTONo'>
   </mat-form-field>
   <span>&nbsp;dated:&nbsp;</span>
   <mat-form-field>
     <input class="text-center" matInput type='text' [matDatepicker]='cdated' [(ngModel)]='dated'>
     <mat-datepicker-toggle matSuffix [for]='cdated'></mat-datepicker-toggle>
     <mat-datepicker #cdated></mat-datepicker>
   </mat-form-field>
   <br>
   <span>&nbsp;This certification has been issued upon the request of&nbsp;</span>
   <mat-form-field>
     <input class="text-center" matInput type='text' [(ngModel)]='requestor'>
   </mat-form-field>
   <span>&nbsp;for the purpose of:&nbsp;</span>
   <mat-form-field>
    <mat-select [(ngModel)]='purpose'>
     <mat-option *ngFor='let prp of prps' [value]='prp.value'>{{ prp.viewVal }}</mat-option>
    </mat-select>
   </mat-form-field>
   </div>
   <br><div class="hrDashed"></div><br>

   <div class='container' fxLayout fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
     <div fxFlex='50%'>
       <b><span>Verified by:&nbsp;</span></b>
       <mat-form-field>
         <input matInput type='text' class='text-transform' [(ngModel)]='encoder1'>
       </mat-form-field>
     </div>
     <div fxFlex='50%'>
       <b><span>Date:&nbsp;</span></b>
       <mat-form-field>
         <input class="text-center" matInput type='text' [matDatepicker]='currdate' [(ngModel)]='date'>
         <mat-datepicker-toggle matSuffix [for]='currdate'></mat-datepicker-toggle>
         <mat-datepicker #currdate></mat-datepicker>
       </mat-form-field>
     </div>
   </div>

   <div class='container' fxLayout fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
     <div fxFlex='50%'>
       <b><span>Certification Fee:&nbsp;</span></b>
       <mat-form-field>
         <input class="text-center" matInput type='text' [(ngModel)]='certfee'>
       </mat-form-field>
     </div>

     <div fxFlex='50%'>
       <b><span>Amount:&nbsp;</span></b>
       <mat-form-field>
         <input class="text-center" matInput type='text' [(ngModel)]='amt'>
       </mat-form-field>
     </div>
  </div>

  <div class='container' fxLayout fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
    <div fxFlex='50%'>
      <b><span>O.R. No.:&nbsp;&nbsp;&nbsp;</span></b>
      <mat-form-field>
        <input class="text-center" matInput type='text' [(ngModel)]='orNo'>
      </mat-form-field>
    </div>
  </div>

  <br><div class="hrDashed"></div><br>

  <div class='container' fxLayout='column' fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
    <mat-form-field fxFlex='100%'>
      <textarea matInput placeholder='Remarks' [(ngModel)]='remarks'></textarea>
    </mat-form-field>
  </div>
  <div class='container' fxLayout fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
    <div fxFlex='25%'></div>
    <div class='width: h-40' fxFlex='25%' (mousedown)='clckd=true' (mouseup)='clckd=false' (mouseleave)='clckd=false' (click)='genCl()'>
      <button [ngClass]="{ 'genClBtnMd': clckd, 'genClBtn': !clckd }" mat-raised-button color='primary' type='button'>Generate Clearance</button>
    </div>
    <div class='width: h-40' (mousedown)='clrnceMD=true' (mouseup)='clrnceMD=false' (mouseleave)='clrnceMD=false' fxFlex='25%' (click)='clseClrnce()'>
      <button [ngClass]="{ 'genClBtnMd': clrnceMD, 'genClBtn': !clrnceMD }" mat-raised-button type="button" name="button">Close</button>
    </div>
  </div>
  <div class="h"></div>
</div>
</div>
</div>

<div>
<div class="h"></div>
<div class="mat-title-con">
<mat-card-header>
  <mat-card-title>
    <div class='container mt con' fxFlex='100%' fxLayout fxLayoutGap='10px'>
      <div fxFlex='1%'></div>
      <div fxFlex='85%'><div class='mat-stitle'>&nbsp;&nbsp;<b>Land Tax Clearance</b></div></div>
      <div fxFlex='64px'>
        <button class="" (click)='srchIco()' mat-raised-button type='button' tabindex="-1" matTooltip="Search">
          <mat-icon>search</mat-icon>
        </button>
      </div>
      <div fxFlex='64px'>
        <button [disabled]='!clrnceBtn' (click)='genIco()' mat-raised-button type='button' tabindex="-1" matTooltip="Clearance">
          <mat-icon>description</mat-icon>
        </button>
      </div>
      <div fxFlex='64px'>
        <button mat-raised-button type='button' matTooltip='Refresh' (click)="resetPage()" tabindex="-1">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
      <div fxFlex='1.5%'></div>
    </div>
  </mat-card-title>
</mat-card-header>
</div>

<div class="wrapper">
  <br>

  <div class='container' fxLayout fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
    <div fxFlex='65%'>
      <!-- Land Info -->
      <mat-label class="label"><p id="info">{{ param1 }} Info</p></mat-label>
      <div *ngIf="(param1=='land')" class='container tbleBrdr' fxLayout fxLayout.xs='column' fxLayoutGap='10px' fxLayout.xs='10px'>
        <div class='ltax-con item item-1' fxFlex='100%'>
          <div class="h"></div>
          <table mat-table class='mat-elevation-z0' [dataSource]='LTTable' width='2000px'>
            <ng-container matColumnDef='arpNo'>
              <th *matHeaderCellDef>ARP No.</th>
              <td *matCellDef='let data'>{{ data.arpNo }}</td>
            </ng-container>
            <ng-container matColumnDef='pin'>
              <th mat-header-cell *matHeaderCellDef>PIN</th>
              <td mat-cell *matCellDef='let data'>{{ data.pin }}</td>
            </ng-container>
            <ng-container matColumnDef='surveyNo'>
              <th mat-header-cell *matHeaderCellDef>Survey No.</th>
              <td mat-cell *matCellDef='let data'>{{ data.surveyNo }}</td>
            </ng-container>
            <ng-container matColumnDef='lotNo'>
              <th mat-header-cell *matHeaderCellDef>Lot No.</th>
              <td mat-cell *matCellDef='let data'>{{ data.lotNo }}</td>
            </ng-container>
            <ng-container matColumnDef='blockNo'>
              <th mat-header-cell *matHeaderCellDef>Block No.</th>
              <td mat-cell *matCellDef='let data'>{{ data.blockNo }}</td>
            </ng-container>
            <ng-container matColumnDef='streetNo'>
              <th mat-header-cell *matHeaderCellDef>Street No.</th>
              <td mat-cell *matCellDef='let data'>{{ data.streetNo }}</td>
            </ng-container>
            <ng-container matColumnDef='brgy'>
              <th mat-header-cell *matHeaderCellDef>Barangay</th>
              <td mat-cell *matCellDef='let data'>{{ data.brgy }}</td>
            </ng-container>
            <ng-container matColumnDef='subd'>
              <th mat-header-cell *matHeaderCellDef>Subdivision</th>
              <td mat-cell *matCellDef='let data'>{{ data.subd }}</td>
            </ng-container>
            <ng-container matColumnDef='city'>
              <th mat-header-cell *matHeaderCellDef>City</th>
              <td mat-cell *matCellDef='let data'>{{ data.city }}</td>
            </ng-container>
            <ng-container matColumnDef='province'>
              <th mat-header-cell *matHeaderCellDef>Province</th>
              <td mat-cell *matCellDef='let data'>{{ data.province }}</td>
            </ng-container>
            <ng-container matColumnDef='class'>
              <th mat-header-cell *matHeaderCellDef>Class</th>
              <td mat-cell *matCellDef='let data'>{{ data.class }}</td>
            </ng-container>
            <ng-container matColumnDef='subclass'>
              <th mat-header-cell *matHeaderCellDef>Subclass</th>
              <td mat-cell *matCellDef='let data'>{{ data.subclass }}</td>
            </ng-container>
            <ng-container matColumnDef='area'>
              <th mat-header-cell *matHeaderCellDef>Area</th>
              <td mat-cell *matCellDef='let data'>{{ data.area }}</td>
            </ng-container>
            <ng-container matColumnDef='assessedVal'>
              <th mat-header-cell *matHeaderCellDef>Assessed Value</th>
              <td mat-cell *matCellDef='let data'>{{ data.assessedVal }}</td>
            </ng-container>
            <ng-container matColumnDef='stat'>
              <th *matHeaderCellDef>Status</th>
              <td *matCellDef='let data'>{{ data.stat }}</td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef='lTaxHeader'></tr>
            <tr class="clrnceTr" mat-row *matRowDef='let row; columns: lTaxHeader'
    					(click)='tableRowSelected(row)'
    					[style.background]="selectedRow.indexOf(row) != -1 ? 'lightblue' : ''"></tr>
          </table>
        </div>
      </div>
      <!-- Land Info End -->

      <!-- Bldg Info -->
      <div *ngIf="(param1=='building')" class='container' fxLayout fxLayout.xs='column' fxLayoutGap='10px' fxLayout.xs='10px'>
        <div class='ltax-con item item-1' fxFlex='100%'>
          <!--<label class="label">Building Info</label>-->
          <div class="h"></div>
          <table mat-table class='mat-elevation-z0' [dataSource]='LTTableBldg' width='2000px'>
            <ng-container matColumnDef='arpNo'>
              <th *matHeaderCellDef>ARP No.</th>
              <td *matCellDef='let data'>{{ data.arpNo }}</td>
            </ng-container>
            <ng-container matColumnDef='pin'>
              <th mat-header-cell *matHeaderCellDef>PIN</th>
              <td mat-cell *matCellDef='let data'>{{ data.pin }}</td>
            </ng-container>
            <ng-container matColumnDef='brgy'>
              <th mat-header-cell *matHeaderCellDef>Barangay</th>
              <td mat-cell *matCellDef='let data'>{{ data.brgy }}</td>
            </ng-container>
            <ng-container matColumnDef='subd'>
              <th mat-header-cell *matHeaderCellDef>Subdivision</th>
              <td mat-cell *matCellDef='let data'>{{ data.subd }}</td>
            </ng-container>
            <ng-container matColumnDef='city'>
              <th mat-header-cell *matHeaderCellDef>City</th>
              <td mat-cell *matCellDef='let data'>{{ data.city }}</td>
            </ng-container>
            <ng-container matColumnDef='province'>
              <th mat-header-cell *matHeaderCellDef>Province</th>
              <td mat-cell *matCellDef='let data'>{{ data.province }}</td>
            </ng-container>
            <ng-container matColumnDef='kind'>
              <th mat-header-cell *matHeaderCellDef>Kind</th>
              <td mat-cell *matCellDef='let data'>{{ data.kind }}</td>
            </ng-container>
            <ng-container matColumnDef='structType'>
              <th mat-header-cell *matHeaderCellDef>Stuctural Type</th>
              <td mat-cell *matCellDef='let data'>{{ data.structType }}</td>
            </ng-container>
            <ng-container matColumnDef='bldgPermit'>
              <th mat-header-cell *matHeaderCellDef>Building Permit</th>
              <td mat-cell *matCellDef='let data'>{{ data.bldgPermit }}</td>
            </ng-container>
            <ng-container matColumnDef='dateConstr'>
              <th mat-header-cell *matHeaderCellDef>Date Constructed</th>
              <td mat-cell *matCellDef='let data'>{{ data.dateConstr }}</td>
            </ng-container>
            <ng-container matColumnDef='storey'>
              <th mat-header-cell *matHeaderCellDef>Storey</th>
              <td mat-cell *matCellDef='let data'>{{ data.storey }}</td>
            </ng-container>
            <ng-container matColumnDef='actualUse'>
              <th mat-header-cell *matHeaderCellDef>Actual Use</th>
              <td mat-cell *matCellDef='let data'>{{ data.actualUse }}</td>
            </ng-container>
            <ng-container matColumnDef='assessedVal'>
              <th *matHeaderCellDef>Assessed Value</th>
              <td *matCellDef='let data'>{{ data.assessedVal }}</td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef='lTaxBldgHeader'></tr>
            <tr class="clrnceTr" mat-row *matRowDef='let row; columns: lTaxBldgHeader'
    					(click)='tableRowSelected(row)'
    					[style.background]="selectedRow.indexOf(row) != -1 ? 'lightblue' : ''"></tr>
          </table>
        </div>
      </div>
      <!-- Bldg Info End -->
    </div>

    <div fxFlex='35%'>
      <div class='container' fxLayout='column' fxLayout.xs='column' fxLayoutGap='10px' fxLayoutGap.xs='10px'>
        <!-- Owner Info -->
        <mat-label class="label">Owner Info</mat-label>
        <div class="label" fxFlex='100%'>
          <div class='ltax-con-inf item item-1' fxFlex='100%'>
            <table mat-table class='mat-elevation-z0' [dataSource]='LTTableInfOwn'>
              <ng-container matColumnDef='ownName'>
                <th *matHeaderCellDef>Name</th>
                <td *matCellDef='let data'>{{ data.ownName }}</td>
              </ng-container>
              <ng-container matColumnDef='ownAddress'>
                <th mat-header-cell *matHeaderCellDef>Address</th>
                <td mat-cell *matCellDef='let data'>{{ data.ownAddress }}</td>
              </ng-container>
              <ng-container matColumnDef='ownContact'>
                <th mat-header-cell *matHeaderCellDef>Contact</th>
                <td mat-cell *matCellDef='let data'>{{ data.ownContact }}</td>
              </ng-container>
              <ng-container matColumnDef='ownTIN'>
                <th *matHeaderCellDef>TIN</th>
                <td *matCellDef='let data'>{{ data.ownTIN }}</td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef='lTaxInfHeaderOwn'></tr>
              <tr mat-row *matRowDef='let row; columns: lTaxInfHeaderOwn'></tr>
            </table>
          </div>
        </div>
        <!-- Owner Info End -->

        <!-- Admin Info -->
        <mat-label class='label'>Admin Info</mat-label>
        <div class="label" fxFlex='100%'>
          <div class='ltax-con-inf item item-2' fxFlex='100%'>
            <table mat-table class='mat-elevation-z0' [dataSource]='LTTableInfAdm'>
              <ng-container matColumnDef='admName'>
                <th *matHeaderCellDef>Name</th>
                <td *matCellDef='let data'>{{ data.admName }}</td>
              </ng-container>
              <ng-container matColumnDef='admAddress'>
                <th mat-header-cell *matHeaderCellDef>Address</th>
                <td mat-cell *matCellDef='let data'>{{ data.admAddress }}</td>
              </ng-container>
              <ng-container matColumnDef='admContact'>
                <th mat-header-cell *matHeaderCellDef>Contact</th>
                <td mat-cell *matCellDef='let data'>{{ data.admContact }}</td>
              </ng-container>
              <ng-container matColumnDef='admTIN'>
                <th *matHeaderCellDef>TIN</th>
                <td *matCellDef='let data'>{{ data.admTIN }}</td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef='lTaxInfHeaderAdm'></tr>
              <tr mat-row *matRowDef='let row; columns: lTaxInfHeaderAdm'></tr>
            </table>
          </div>
        </div>
        <!-- Admin Info End -->

      </div>
    </div>
  </div>
</div>
